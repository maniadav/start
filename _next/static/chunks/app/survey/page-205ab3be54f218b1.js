(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[12],{4219:function(e,t,a){Promise.resolve().then(a.bind(a,481))},7648:function(e,t,a){"use strict";a.d(t,{default:function(){return n.a}});var s=a(2972),n=a.n(s)},9376:function(e,t,a){"use strict";var s=a(5475);a.o(s,"usePathname")&&a.d(t,{usePathname:function(){return s.usePathname}}),a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}}),a.o(s,"useSearchParams")&&a.d(t,{useSearchParams:function(){return s.useSearchParams}})},481:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return k}});var s=a(7437),n=a(3896),o=a(6501),r=a(7727);a(2265);var l=a(2464),i=a(2635);let c=()=>(0,s.jsx)("svg",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",width:"12",height:"12",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{d:"M20 6L9 17l-5-5"})}),d=()=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",role:"img",width:"24",height:"24",viewBox:"0 0 32 32",children:(0,s.jsx)("path",{fill:"currentColor",d:"M16 3C8.832 3 3 8.832 3 16s5.832 13 13 13s13-5.832 13-13S23.168 3 16 3m0 2c6.087 0 11 4.913 11 11s-4.913 11-11 11S5 22.087 5 16S9.913 5 16 5m-1 5v5h-5v2h5v5h2v-5h5v-2h-5v-5z"})});var u=a(9376),h=a(2807),m=a(1273),x=function(e){let{id:t}=e,a=async()=>{let e=await (0,h.VS)(o.Y.surveyDB,o.Y.surveyData),a=(0,r.jy)(o.g.LOGGED_IN_USER,!0),s=new Date().toISOString().split("T")[0],n="child_id_".concat(a.childID,"_observer_id_").concat(a.observerID,"_").concat(t,"_").concat(s);!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"data.csv",a=new Set,s=[];Object.entries(e).forEach(e=>{let[t,n]=e;!function e(t,n){"string"==typeof n||"number"==typeof n||"boolean"==typeof n||null==n||0===n?(s[0]||(s[0]={}),s[0][t]=n,a.add(t)):Array.isArray(n)?(a.add(t),n.forEach((e,a)=>{s[a]||(s[a]={}),s[a][t]=e})):"object"==typeof n&&null!==n&&Object.keys(n).forEach(a=>{e("".concat(t,"_").concat(a),n[a])})}(t,n)});let n=Array.from(a),o=new Blob([[n.join(","),...s.map(e=>n.map(t=>void 0===e[t]||null===e[t]?'""':'"'.concat(e[t],'"')).join(","))].join("\n")],{type:"text/csv"}),r=document.createElement("a");r.href=URL.createObjectURL(o),r.download=t,r.click()}(e[t],n)};return(0,s.jsx)("button",{className:"text-lg w-5 h-5 inline-flex items-center justify-center  text-black rounded-full flex-shrink-0 cursor-pointer",onClick:()=>{a()},children:(0,s.jsx)(m.aBF,{})})},f=a(535),p=a(16),g=a(7648),y=()=>{let{state:e}=(0,i.y)(),t=(0,u.useRouter)();return(0,s.jsx)("section",{className:"text-gray-700 body-font overflow-hidden",children:(0,s.jsx)("div",{className:"container px-5 py-20 mx-auto flex flex-col ",children:(0,s.jsx)("div",{className:"flex flex-col",children:(0,s.jsx)("div",{className:"overflow-x-auto sm:mx-0.5 lg:mx-0.5",children:(0,s.jsxs)("div",{className:"py-2 inline-block min-w-full sm:px-6 lg:px-8",children:[(0,s.jsx)("div",{className:"overflow-hidden",children:(0,s.jsxs)("table",{className:"min-w-full",children:[(0,s.jsx)("thead",{className:"bg-white border-b",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{scope:"col",className:"text-sm font-medium text-gray-900 px-6 py-4 text-left"}),(0,s.jsx)("th",{scope:"col",className:"text-sm font-medium text-gray-900 px-6 py-4 text-left"}),(0,s.jsxs)("th",{scope:"col",className:"text-sm font-medium text-gray-900 px-6 py-4 text-left",children:[(0,s.jsx)("h3",{className:"tracking-widest text-gray-500 font-normal",children:"Attempt"}),(0,s.jsx)("h2",{className:"text-5xl text-gray-900 font-medium leading-none mb-4 mt-2",children:"1"})]}),(0,s.jsxs)("th",{scope:"col",className:"text-sm font-medium text-gray-900 px-6 py-4 text-left",children:[(0,s.jsx)("h3",{className:"tracking-widest text-gray-500 font-normal",children:"Attempt"}),(0,s.jsx)("h2",{className:"text-5xl text-gray-900 font-medium leading-none mb-4 mt-2",children:"2"})]}),(0,s.jsxs)("th",{scope:"col",className:"text-sm font-medium text-gray-900 px-6 py-4 text-left",children:[(0,s.jsx)("h3",{className:"tracking-widest text-gray-500 font-normal",children:"Attempt"}),(0,s.jsx)("h2",{className:"text-5xl text-gray-900 font-medium leading-none mb-4 mt-2",children:"3"})]})]})}),(0,s.jsx)("tbody",{children:Object.keys(l.Ik).map((a,n)=>(0,s.jsxs)("tr",{className:"".concat(n%2==0?"bg-gray-100":"bg-white"," border-b"),children:[(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:null===l.Ik||void 0===l.Ik?void 0:l.Ik[a].title}),(0,s.jsx)("td",{className:"",children:(0,s.jsx)(x,{id:null===l.Ik||void 0===l.Ik?void 0:l.Ik[a].id})}),Array.from({length:3},(n,o)=>{var r,i,u;return(0,s.jsx)("td",{className:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap",children:o<(null==e?void 0:null===(r=e[a])||void 0===r?void 0:r.noOfAttempt)?(0,s.jsx)("button",{className:"w-5 h-5 inline-flex items-center justify-center bg-gray-500 text-white rounded-full flex-shrink-0 cursor-not-allowed",disabled:!0,children:(0,s.jsx)(c,{})}):o===(null==e?void 0:null===(i=e[a])||void 0===i?void 0:i.noOfAttempt)||(null==e?void 0:null===(u=e[a])||void 0===u?void 0:u.noOfAttempt)===void 0&&0===o?(0,s.jsx)("button",{onClick:()=>{var s;return t.push("/".concat(l.Ik[a].surveyRoute,"?attempt=").concat(parseInt((null==e?void 0:null===(s=e[a])||void 0===s?void 0:s.noOfAttempt)||0,10)+1))},className:"cursor-pointer",children:(0,s.jsx)(d,{})}):(0,s.jsx)("button",{disabled:!0,className:"cursor-not-allowed",children:"-"})},"".concat(null===l.Ik||void 0===l.Ik?void 0:l.Ik[a].id).concat(o))})]},null===l.Ik||void 0===l.Ik?void 0:l.Ik[a].id))})]})}),(0,s.jsx)("div",{className:"mt-12 flex flex-col justify-center gap-y-5 sm:mt-10 sm:flex-row sm:gap-y-0 sm:gap-x-6",children:(0,s.jsxs)("div",{className:"mt-12 flex flex-col justify-center gap-y-5 sm:mt-10 sm:flex-row sm:gap-y-0 sm:gap-x-6",children:[(0,s.jsxs)(g.default,{className:"group inline-flex items-center justify-center rounded-full py-2 px-4 text-sm font-semibold focus:outline-none focus-visible:outline-2 focus-visible:outline-offset-2 bg-slate-900 text-white hover:bg-slate-700 hover:text-slate-100 active:bg-slate-800 active:text-slate-300 focus-visible:outline-slate-900 animate-fade-in-left",href:p.H.UPLOAD.path,children:[(0,s.jsx)(m.DUB,{}),(0,s.jsx)("span",{className:"ml-3",children:"Upload Survey"})]}),(0,s.jsx)(f.Z,{})]})})]})})})})})},v=()=>{var e;let t=(0,r.jy)(o.g.LOGGED_IN_USER,!0);return(0,s.jsx)("div",{className:"flex justify-center items-center p-8 lg:p-12",children:(0,s.jsxs)("div",{className:"w-full max-w-sm  hover:shadow-indigo-300 hover:shadow-lg rounded-lg border",children:[(0,s.jsxs)("div",{className:"flex justify-center items-start flex-col p-5 ",children:[(0,s.jsxs)("div",{className:"flex flex-row gap-2 items-center align-middle",children:[(0,s.jsx)("h3",{className:"text-base md:text-lg font-semibold",children:"User Name:"}),(0,s.jsx)("p",{className:"capitalize text-xs md:text-sm",children:(null==t?void 0:t.childName)||"User"})]}),(0,s.jsxs)("div",{className:"flex flex-row gap-2 items-center align-middle",children:[(0,s.jsx)("h3",{className:"text-base md:text-lg font-semibold",children:"User ID:"}),(0,s.jsx)("p",{className:"capitalize text-xs md:text-sm",children:null!==(e=null==t?void 0:t.childID)&&void 0!==e?e:"1232"})]}),(0,s.jsxs)("div",{className:"flex flex-row gap-2 items-center align-middle",children:[(0,s.jsx)("h3",{className:"text-base md:text-lg font-semibold",children:"DOB:"}),(0,s.jsx)("p",{className:"text-xs md:text-sm",children:(null==t?void 0:t.childDOB)||"23/23/25"})]}),(0,s.jsxs)("div",{className:"capitalize flex flex-row gap-2 items-center align-middle",children:[(0,s.jsx)("h3",{className:"text-base md:text-lg font-semibold",children:"Gender:"}),(0,s.jsx)("p",{className:"capitalize text-xs md:text-sm",children:null==t?void 0:t.childGender})]}),(0,s.jsxs)("div",{className:"capitalize flex flex-row gap-2 items-center align-middle",children:[(0,s.jsx)("h3",{className:"text-base md:text-lg font-semibold",children:"Observer ID:"}),(0,s.jsx)("p",{className:"capitalize text-xs md:text-sm",children:null==t?void 0:t.observerID})]})]}),(0,s.jsx)("div",{className:"bg-sky-500 p-0.5 rounded-b-lg"})]})})},b=a(3145),k=()=>((0,r.jy)(o.g.LOGGED_IN_USER,!0),(0,s.jsxs)("div",{className:"",children:[(0,s.jsxs)("div",{className:"grid md:grid-cols-3 h-full md:h-screen text-black",children:[(0,s.jsx)("div",{className:"w-full mb-10 col-span-3 md:col-span-2",children:(0,s.jsx)("div",{className:" mx-auto h-full sm:p-10",children:(0,s.jsx)("header",{className:"container px-4 lg:flex mt-20 md:mt-10 items-center h-full lg:mt-0",children:(0,s.jsxs)("div",{className:"w-full",children:[(0,s.jsxs)("h1",{className:"text-4xl lg:text-6xl font-extrabold tracking-tight drop-shadow mb-4",children:["Complete all ",(0,s.jsx)("span",{className:"text-primary",children:"survey"})," ..."]}),(0,s.jsx)("div",{className:"w-32 h-2 bg-gradient-to-r from-primary to-red-900 rounded my-4"}),(0,s.jsx)("p",{className:"text-xl mb-10 text-slate-700 max-w-2xl",children:"Perform a series of structured tasks designed to identify early signs of autism in children aged 2-5 years."}),(0,s.jsx)(g.default,{href:"/content",legacyBehavior:!0,children:(0,s.jsxs)("a",{className:"bg-gradient-to-r from-red-900 to-primary text-white text-2xl font-semibold px-6 py-3 rounded-lg shadow-lg inline-flex items-center justify-center w-full text-center border border-gray-200 sm:w-auto hover:scale-105 hover:bg-blue-700 transition-all duration-200 focus:ring-4 focus:ring-blue-200",children:[(0,s.jsx)("svg",{className:"w-5 h-5 mr-3 text-white",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 496 512",children:(0,s.jsx)("path",{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"})}),"Check Out the Data Format"]})})]})})})}),(0,s.jsx)("div",{className:"flex justify-end col-span-3 md:col-span-1",children:(0,s.jsx)(b.default,{src:"".concat(n._,"/image/survey.jpg"),width:400,height:500,className:"w-full h-full object-cover",alt:"brain image",priority:!0})})]}),(0,s.jsxs)("div",{className:"w-full h-full border-t py-10 md:py-4",children:[(0,s.jsxs)("div",{className:"container grid lg:grid-cols-2 items-center mx-auto",children:[(0,s.jsxs)("div",{className:"flex flex-col p-2",children:[(0,s.jsxs)("p",{className:"max-w-2xl text-lg tracking-tight text-slate-700",children:["Welcome to your",(0,s.jsx)("span",{className:"mx-2 border-b border-dotted border-slate-300 text-primary",children:"survey"}),"&"]}),(0,s.jsxs)("h1",{className:"flex gap-2 mx-auto max-w-4xl font-display text-5xl font-medium tracking-tight text-slate-900 sm:text-7xl",children:[(0,s.jsx)("span",{className:"inline-block",children:"Your"}),(0,s.jsx)("span",{className:"relative text-primary",children:"User"}),(0,s.jsx)("span",{className:"inline-block",children:"Details"})]})]}),(0,s.jsx)(v,{})]}),(0,s.jsx)(y,{})]})]}))},535:function(e,t,a){"use strict";a.d(t,{G:function(){return d}});var s=a(7437),n=a(6501),o=a(2807),r=a(7727);a(2265);var l=a(7635),i=a.n(l),c=a(1273);let d=async()=>{let e=await (0,o.VS)(n.Y.surveyDB,n.Y.surveyData),t=(0,r.jy)(n.g.LOGGED_IN_USER,!0),a=new Date().toISOString().split("T")[0];if(e){let s=new(i());Object.keys(e).forEach(n=>{let o=e[n],r="child_id_".concat(t.childID,"_").concat(n,"_").concat(a,".csv"),l=function(e){let t=new Set,a=[];Object.entries(e).forEach(e=>{let[s,n]=e;!function e(s,n){"string"==typeof n||"number"==typeof n||"boolean"==typeof n||null==n||0===n?(a[0]||(a[0]={}),a[0][s]=n,t.add(s)):Array.isArray(n)?(t.add(s),n.forEach((e,t)=>{a[t]||(a[t]={}),a[t][s]=e})):"object"==typeof n&&null!==n&&Object.keys(n).forEach(t=>{e("".concat(s,"_").concat(t),n[t])})}(s,n)});let s=Array.from(t);return[s.join(","),...a.map(e=>s.map(t=>void 0===e[t]||null===e[t]?'""':'"'.concat(e[t],'"')).join(","))].join("\n")}(o);s.file(r,l)});let n=await s.generateAsync({type:"blob"}),o=URL.createObjectURL(n),r=document.createElement("a");r.href=o,r.download="start_child_id_".concat(t.childID,"_observer_id_").concat(t.observerID,"_").concat(a,".zip"),r.click(),URL.revokeObjectURL(o)}};t.Z=function(){return(0,s.jsxs)("div",{className:"group inline-flex items-center justify-center rounded-full py-2 px-4 text-sm font-semibold focus:outline-none focus-visible:outline-2 focus-visible:outline-offset-2 bg-slate-900 text-white hover:bg-slate-700 hover:text-slate-100 active:bg-slate-800 active:text-slate-300 focus-visible:outline-slate-900 animate-fade-in-left",children:[(0,s.jsx)(c.aBF,{}),(0,s.jsx)("button",{className:"ml-3",onClick:()=>d(),children:"Download Batch Data"})]})}},3896:function(e,t,a){"use strict";a.d(t,{_:function(){return s}});let s="/start"},16:function(e,t,a){"use strict";a.d(t,{H:function(){return n},Q:function(){return s}});let s={HOME:{label:"Home",path:"/"},SURVEY:{label:"Survey",path:"/survey"},ABOUT:{label:"About",path:"/about"},DATA:{label:"Data",path:"/content"}},n={HOME:{label:"Home",path:"/"},ABOUT:{label:"About",path:"/about"},CONTENT:{label:"CONTENT",path:"/content"},SETTING:{label:"Setting",path:"/setting"},LOGIN:{label:"Login",path:"/auth/login"},SURVEY:{label:"Survey",path:"/survey"},UPLOAD:{label:"Upload",path:"/survey/upload"}}},6501:function(e,t,a){"use strict";a.d(t,{Y:function(){return n},g:function(){return s}});let s={LOGGED_IN_USER:"start_user",MFA_ACCESS_TOKEN:"x-secure-token",MFA_REFRESH_TOKEN:"x-refresh-token",SELECTED_COUNTRY:"psychSelectedCountry",SELECTED_COUNTRY_NAME:"psychSelectedCountryName",SELECTED_VENDORCODE:"psychSelectedVendorCode",SELECTED_LANGUAGE:"psychSelectedLanguageFilter",BASE_URL:"https://x3qrf2-3000.csb.app/api/v1",SURVEY_DATA:"surveyData"},n={surveyDB:"survey",surveyData:"surveyData",useData:"user",tempVideo:"tempVideo",temporaryDB:"temporary"}},1978:function(e,t){"use strict";t.Z=["BubblePoppingTask","DelayedGratificationTask","MotorFollowingTask","ButtonTask","SynchronyTask","LanguageSamplingTask","WheelTask","PreferentialLookingTask"]},2464:function(e,t,a){"use strict";a.d(t,{BQ:function(){return r},Ik:function(){return s},Iq:function(){return d},fM:function(){return o},gq:function(){return u},ho:function(){return l},iS:function(){return n},j6:function(){return i},kg:function(){return c}});let s={MotorFollowingTask:{id:"MotorFollowingTask",title:"Motor Following Task",surveyRoute:"motor-following-task",taskMessage:"Look at this ball moving. You need to drag your finger on the screen and follow the ball's movement. Shall we stop it?",taskEndMessage:"You have completed the Motor Following Task. You can now go back to the survey dashboard, or start a new task."},BubblePoppingTask:{id:"BubblePoppingTask",title:"Bubble Popping Task",surveyRoute:"bubble-popping-task",taskMessage:"Watch, I'm going to pop these bubbles—pop, pop, pop! Now it's your turn to pop them. Shall we start?",taskEndMessage:"You have completed the Bubble Popping Task. You can now go back to the survey dashboard, or start a new task."},ButtonTask:{id:"ButtonTask",title:"Button Task",surveyRoute:"button-task",taskMessage:"There are two buttons, each containing a video. Show both videos to the child and press 'start' once the child is ready.",taskEndMessage:"You have completed the Button Task. Would you like to go back or start the next test?"},WheelTask:{id:"WheelTask",title:"Wheel Task",surveyRoute:"wheel-task",taskMessage:"Look at this spinning wheel. You can watch it for as long as you like. If you want to stop it, simply press the red button. Shall we stop it?",taskEndMessage:"You have completed the Wheel Task. You can now return to the survey dashboard, or start a new task."},SynchronyTask:{id:"SynchronyTask",title:"Synchrony Task",surveyRoute:"synchrony-task",taskMessage:"Look at this drum. Listen to his rhythm and try to tap your drum in sync with him. Tap along with the character.",taskEndMessage:"You have completed the Synchrony Task. You can now go back to the survey dashboard, or start a new task."},LanguageSamplingTask:{id:"LanguageSamplingTask",title:"Language Sampling Task",surveyRoute:"language-sampling-task",taskMessage:"Look at the picture. There are many different things happening. Explain the events to the child. Can you describe what is happening in the video?",taskEndMessage:"You have completed the Language Sampling Task. You can now go back to the survey dashboard, or start a new task."},DelayedGratificationTask:{id:"DelayedGratificationTask",title:"Delayed Gratification Task",surveyRoute:"delayed-gratification-task",taskMessage:"Look at these rewards (show the rewards). If you wait until this finishes (point to the wheel icon), you can have three rewards. But if you don't wait and press the yellow star (point to the yellow star), you'll only get one reward.",taskEndMessage:"You have completed the Delayed Gratification Task. You can now go back to the survey dashboard, or start a new task."},PreferentialLookingTask:{id:"PreferentialLookingTask",title:"Preferential Looking Task",surveyRoute:"preferential-looking-task",taskMessage:"I would like to show you something on my tablet. Watch these videos and try to remain still while keeping your eyes on the screen.",taskEndMessage:"You have completed the Preferential Looking Task. You can now go back to the survey dashboard, or start a new task."}},n=s.MotorFollowingTask,o=s.BubblePoppingTask,r=s.ButtonTask,l=s.WheelTask,i=s.SynchronyTask,c=s.LanguageSamplingTask,d=s.DelayedGratificationTask,u=s.PreferentialLookingTask},2635:function(e,t,a){"use strict";a.d(t,{SurveyProvider:function(){return h},y:function(){return m}});var s=a(7437),n=a(6501),o=a(7727),r=a(1978);let l=()=>{let{childID:e,childDOB:t,childGender:a,observerID:s}=(0,o.jy)(n.g.LOGGED_IN_USER,!0)||{},l=n=>({assessment_id:n,noOfAttempt:0,attempt1:{},attempt2:{},attempt3:{},userID:e,userDOB:t,userGender:a,observerID:s});return r.Z.reduce((e,t)=>(e[t]=l(t),e),{})};var i=a(2807),c=a(2265);let d=(0,c.createContext)(void 0),u=(e,t)=>{switch(t.type){case"SET_SURVEY_DATA":return{...e,...t.payload};case"UPDATE_SURVEY_DATA":var a;return{...e,[t.task]:{...e[t.task],noOfAttempt:t.attempt,["attempt".concat(t.attempt)]:{...null===(a=e[t.task])||void 0===a?void 0:a["attempt".concat(null==t?void 0:t.attempt)],...t.data}}};case"RESET_SURVEY_DATA":return l();default:return{...e}}},h=e=>{let{children:t}=e,[a,o]=(0,c.useReducer)(u,l()),[r,h]=(0,c.useState)(!1);return(0,c.useEffect)(()=>{(async()=>{try{let e=await (0,i.VS)(n.Y.surveyDB,n.Y.surveyData);e&&!r&&o({type:"SET_SURVEY_DATA",payload:e})}catch(e){console.error("Failed to load persisted survey state:",e)}finally{h(!0)}})()},[r]),(0,c.useEffect)(()=>{r&&(async()=>{try{await (0,i.TP)(n.Y.surveyDB,n.Y.surveyData,a)}catch(e){console.error("Failed to save survey state:",e)}})()},[a,r]),(0,s.jsx)(d.Provider,{value:{state:a,dispatch:o},children:t})},m=()=>{let e=(0,c.useContext)(d);if(!e)throw Error("useSurveyContext must be used within a SurveyProvider");return e}},2807:function(e,t,a){"use strict";function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return new Promise((a,s)=>{let n=indexedDB.open(e,t);n.onsuccess=()=>a(n.result),n.onerror=()=>s("Failed to open database: ".concat(e)),n.onupgradeneeded=()=>{let e=n.result;e.objectStoreNames.contains("data")||e.createObjectStore("data")}})}async function n(e,t,a){try{let n=await s(e),o=n.transaction("data","readwrite");o.objectStore("data").put(a,t),o.oncomplete=()=>{n.close()},o.onerror=t=>{console.error("Transaction error in ".concat(e,":"),t)}}catch(t){console.error("Error setting value in ".concat(e,":"),t)}}async function o(e,t){try{let a=await s(e);return new Promise((s,n)=>{let o=a.transaction("data","readonly").objectStore("data").get(t);o.onsuccess=()=>{let e=o.result;s(e),a.close()},o.onerror=()=>{n("Failed to retrieve data from ".concat(e)),a.close()}})}catch(t){return console.error("Error getting value from ".concat(e,":"),t),null}}async function r(e,t){try{let a=await s(e),n=a.transaction("data","readwrite");n.objectStore("data").delete(t),n.oncomplete=()=>a.close()}catch(t){console.error("Error removing value from ".concat(e,":"),t)}}a.d(t,{TP:function(){return n},VS:function(){return o},pV:function(){return r}}),a(6501)},7727:function(e,t,a){"use strict";function s(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("localStorage"in window)try{let a=window.localStorage.getItem(e);if(!a)return null;if(!t)return a;if(a)return JSON.parse(a)}catch(e){}return null}function n(e,t,a){if("localStorage"in window)try{a?window.localStorage.setItem(e,JSON.stringify(t)):"string"==typeof t&&window.localStorage.setItem(e,t)}catch(e){console.log(e)}return null}function o(){"localStorage"in window&&window.localStorage.clear()}a.d(t,{jy:function(){return s},pO:function(){return o},uN:function(){return n}})}},function(e){e.O(0,[240,972,145,609,212,971,522,744],function(){return e(e.s=4219)}),_N_E=e.O()}]);