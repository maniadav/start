(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[454],{1320:function(e,t,s){Promise.resolve().then(s.bind(s,6245))},6245:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return E}});var r=s(7437),o=s(2265),a=s(6463),n=s(7257),l=s(8472),i=s(7413),c=s(1413),p=s(357);class d{constructor(){this.PsychAPI=h()}}d.Filter={CountryFilter:"IND",LanguageFilter:"EN"},d.BASE_URL=p.env.BASE_URL||n.g.BASE_URL,d.API_KEY=p.env.API_KEY||"",d.HEADERS={"Content-Type":"application/json"};let u=()=>{let e=l.Z.create({baseURL:d.BASE_URL,timeout:4e4,headers:d.HEADERS});return e.interceptors.request.use(async e=>{let t=p.env.API_KEY||"",{headers:s,params:r}=e,o=(0,i.jy)(n.g.LOGGED_IN_USER,!0);return(null==s?void 0:s["x-access-token"])||(s=(null==o?void 0:o.token)?{...s,"x-access-token":null==o?void 0:o.token}:{...s,apikey:t}),{...e,headers:s,params:r}},e=>Promise.reject(e)),e.interceptors.response.use(void 0,e=>{var t;if(e.config&&(null===(t=e.response)||void 0===t?void 0:t.status)){let{config:t,response:s}=e,{status:r}=s;switch(r){case 401:{localStorage.clear();let e=(0,a.useRouter)();console.log("user is unauthorized"),e.push("".concat(c.Q.auth.login));break}case 498:{let e=(0,i.jy)(n.g.LOGGED_IN_USER,!0);return localStorage.removeItem(n.g.LOGGED_IN_USER),(0,i.uN)(n.g.LOGGED_IN_USER,{...e,token:s.data.newToken},!0),t.headers["x-access-token"]=s.data.newToken,l.Z.request(t)}}}return Promise.reject(e)}),window.axiosInstance=e,e},h=()=>window.axiosInstance?window.axiosInstance:u();var m=d,x=s(357);class g extends m{constructor(...e){super(...e),this.userRegister=e=>{let t={apikey:x.env.NUCLEUS_APIKEY,"content-type":"multipart/form-data; boundary=----WebKitFormBoundaryqwvzmIgWW9pMEq6p"};return this.PsychAPI.post("".concat(c.Q.auth.register),e,{headers:t})},this.userLogin=e=>this.PsychAPI.post("".concat(c.Q.auth.login),{...e}),this.generateOTP=e=>this.PsychAPI.get("/api/generateOTP",{params:{username:e}}),this.verifyOTP=e=>this.PsychAPI.get("/api/verifyOTP",{...e}),this.senMailWithOTP=e=>this.PsychAPI.post("/api/registerMail",{...e}),this.resetPassword=e=>this.PsychAPI.get("/api/resetPassword",{...e}),this.uploadImage=e=>{let t={apikey:x.env.NUCLEUS_APIKEY,"content-type":"multipart/form-data; boundary=----WebKitFormBoundaryqwvzmIgWW9pMEq6p"};return this.PsychAPI.post("/image-upload-ms/services/upload?upload_flag=true&flag=1&sizes=50x50,200x200,400x400,800x800,1200x1200",e,{headers:t})},this.getOPlist=e=>this.PsychAPI.post("/api/getPatientData1",e),this.getOPEMR=e=>this.PsychAPI.get("/api/fetchInformation1".concat(e&&"?ID=".concat(e))),this.getPatientInfo=e=>this.PsychAPI.get("api/patientInfo".concat(e&&"?uniqueID=".concat(e))),this.getPatientPrevReport=e=>this.PsychAPI.get("api/PreviousReports".concat(e&&"/".concat(e))),this.updateOPEMR=e=>this.PsychAPI.post("/api/postData",{...e}),this.finalizeOPEMR=e=>this.PsychAPI.post("/api/finaliseReport",{...e}),this.submitReportOPEMR=e=>this.PsychAPI.post("/api/outpatientReportFile",{...e}),this.submitReportOPEMR2=e=>{console.error(e);let t={apikey:x.env.NUCLEUS_APIKEY,"content-type":"multipart/form-data; boundary=----WebKitFormBoundaryqwvzmIgWW9pMEq6p"};return this.PsychAPI.post("/api/outpatientReportFile",e,{headers:t})},this.getPatientCompaint=e=>this.PsychAPI.get("/complaints/".concat(e)),this.verifyUsername=e=>this.PsychAPI.post("/api/authenticate",{username:e}),this.getUserProfile=e=>this.PsychAPI.get("/api/user/".concat(e)),this.getUser=e=>this.PsychAPI.get("/api/user/".concat(e)),this.followUpCreate=e=>this.PsychAPI.post("/api/followAppointments",{...e}),this.fetchInformationforFollowUp=e=>this.PsychAPI.get("api/fetchInformationforFollowUp?ID=".concat(e)),this.followUpPostDraft=e=>this.PsychAPI.post("/api/postDataForFollowUp",{...e}),this.followUpPostFinal=e=>this.PsychAPI.post("/api/postDataFinaliseForFollowUp",{...e}),this.getFollowUpAppointment=e=>this.PsychAPI.get("/api/getFollowUpAppointment/".concat(e)),this.getFollowUpList=e=>this.PsychAPI.post("/api/getFollowUpPatient",e),this.getTelemedicinePatient=e=>this.PsychAPI.post("/api/getTelemedicinePatient",e),this.inPatientCreate=e=>this.PsychAPI.post("/api/createInPatient",{...e}),this.getIPlist=e=>this.PsychAPI.post("/api/getInPatient",e),this.getIPEMR=e=>this.PsychAPI.post("/api/getInPatient2/".concat(e&&"".concat(e))),this.postIPEMR=e=>this.PsychAPI.post("/api/postDataForInpatientRecord",e),this.updateUserData=e=>{let t=(0,i.jy)(n.g.MFA_ACCESS_TOKEN),s={apikey:x.env.NUCLEUS_APIKEY,Authorization:"Bearer ".concat(t)};return this.PsychAPI.post("/api/postData",{...e},{headers:s})}}}let f=e=>e?e.includes(" ")?"wrong password...!":e.length<8?"minimum 8 characters password":/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d).{8,}$/.test(e)?"":"password must have a special character, uppercase, lowercase, number":"password required...!",y=e=>e?e.includes(" ")?"Invalid Username...!":e.length<6?"minimum 6 characters username":"":"Username Required...!",w=e=>e?e.includes(" ")?"Wrong Email...!":/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e)?"":"Invalid email address...!":"Email Required...!";var P=s(7196),b=s(7138),v=s(8726),N=s(6648),E=()=>{let[e,t]=(0,o.useState)(null),[s,l]=(0,o.useState)({email:"",username:"",password:"",firstName:"",lastName:"",mobile:"",address:"",profile:""}),p=(0,a.useRouter)(),d=async()=>{let e=new g;try{var t;let r=await e.userLogin(s),o=r.data,a=(null==r?void 0:null===(t=r.data)||void 0===t?void 0:t.message)||"user is registered!";v.ZP.success(a);let l=o.accessToken||"",c=o.refreshToken||"";(0,i.uN)(n.g.LOGGED_IN_USER,o.user,!0),(0,i.uN)(n.g.MFA_ACCESS_TOKEN,l),(0,i.uN)(n.g.MFA_REFRESH_TOKEN,c),p.push("/")}catch(e){console.error("API call error:",e),v.ZP.error("something went wrong, please check console!")}},u=e=>{let{name:t,value:r}=e.target;l({...s,[t]:r})};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(v.x7,{position:"top-center",reverseOrder:!1}),(0,r.jsx)("section",{className:"bg-gray-1 lg:py-20 p-5",children:(0,r.jsx)("div",{className:"container mx-auto",children:(0,r.jsx)("div",{className:"-mx-4 flex flex-wrap",children:(0,r.jsx)("div",{className:"w-full px-4",children:(0,r.jsxs)("div",{className:"border-2 border-gray-200 shadow-md mx-auto max-w-[525px] overflow-hidden rounded-lg bg-white px-8 py-16 text-center-2 md:px-16",children:[(0,r.jsxs)("div",{className:"mb-4 text-center",children:[(0,r.jsx)("h4",{className:"mb-2 text-5xl font-bold",children:"Register"}),(0,r.jsx)("span",{className:"py-4 text-xl w-2/3 text-center text-gray-500",children:"Happy to join you!"})]}),(0,r.jsxs)("div",{className:"py-4",children:[(0,r.jsxs)("div",{className:"relative w-auto h-auto flex justify-center py-4",children:[(0,r.jsx)("label",{htmlFor:"profile",children:(0,r.jsx)(N.default,{src:e||"/profile.png",className:"w-28 h-28 rounded-full cursor-pointer border-2 border-gray-400",alt:"avatar",width:150,height:150})}),(0,r.jsx)("input",{className:"border-dotted absolute top-0 w-full h-full opacity-0 cursor-pointer",type:"file",id:"profile",name:"profile",accept:"image/*",onChange:e=>{t(URL.createObjectURL(e.target.files[0])),l({...s,profile:e.target.files[0]})}})]}),(0,r.jsxs)("div",{className:"mt-4 flex flex-col items-center gap-6",children:[(0,r.jsxs)("div",{className:"flex flex-col w-full gap-1",children:[(0,r.jsx)("label",{htmlFor:"username",className:"left-0 -top-5 text-gray-900 text-sm peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-440 peer-placeholder-shown:top-2 transition-all peer-focus:-top-3.5 peer-focus:text-gray-600 peer-focus:text-sm",children:"Email ID"}),(0,r.jsx)("input",{id:"email",name:"email",onChange:e=>u(e),className:"w-full rounded-md border border-stroke bg-transparent px-5 py-3 text-base text-body-color outline-none focus:border-primary focus-visible:shadow-none ",type:"email",placeholder:"email*"})]}),(0,r.jsxs)("div",{className:"flex flex-col w-full gap-1",children:[(0,r.jsx)("label",{htmlFor:"username",className:"left-0 -top-5 text-gray-900 text-sm peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-440 peer-placeholder-shown:top-2 transition-all peer-focus:-top-3.5 peer-focus:text-gray-600 peer-focus:text-sm",children:"Username"}),(0,r.jsx)("input",{id:"username",name:"username",onChange:e=>u(e),className:"w-full rounded-md border border-stroke bg-transparent px-5 py-3 text-base text-body-color outline-none focus:border-primary focus-visible:shadow-none ",type:"username",placeholder:"username*"})]}),(0,r.jsxs)("div",{className:"flex flex-col w-full gap-1",children:[(0,r.jsx)("label",{htmlFor:"username",className:"left-0 -top-5 text-gray-900 text-sm peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-440 peer-placeholder-shown:top-2 transition-all peer-focus:-top-3.5 peer-focus:text-gray-600 peer-focus:text-sm",children:"Password"}),(0,r.jsx)("input",{id:"password",name:"password",onChange:e=>u(e),className:"w-full rounded-md border border-stroke bg-transparent px-5 py-3 text-base text-body-color outline-none focus:border-primary focus-visible:shadow-none ",type:"password",placeholder:"Password*"})]}),(0,r.jsxs)("div",{className:"flex flex-col w-full gap-1",children:[(0,r.jsx)("label",{htmlFor:"firstName",className:"left-0 -top-5 text-gray-900 text-sm peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-440 peer-placeholder-shown:top-2 transition-all peer-focus:-top-3.5 peer-focus:text-gray-600 peer-focus:text-sm",children:"First Name"}),(0,r.jsx)("input",{id:"firstName",name:"firstName",onChange:e=>u(e),className:"w-full rounded-md border border-stroke bg-transparent px-5 py-3 text-base text-body-color outline-none focus:border-primary focus-visible:shadow-none ",type:"text",placeholder:"firstName*"})]}),(0,r.jsxs)("div",{className:"flex flex-col w-full gap-1",children:[(0,r.jsx)("label",{htmlFor:"username",className:"left-0 -top-5 text-gray-900 text-sm peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-440 peer-placeholder-shown:top-2 transition-all peer-focus:-top-3.5 peer-focus:text-gray-600 peer-focus:text-sm",children:"Password"}),(0,r.jsx)("input",{id:"password",name:"password",onChange:e=>u(e),className:"w-full rounded-md border border-stroke bg-transparent px-5 py-3 text-base text-body-color outline-none focus:border-primary focus-visible:shadow-none ",type:"password",placeholder:"Password*"})]})," ",(0,r.jsxs)("div",{className:"flex flex-col w-full gap-1",children:[(0,r.jsx)("label",{htmlFor:"username",className:"left-0 -top-5 text-gray-900 text-sm peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-440 peer-placeholder-shown:top-2 transition-all peer-focus:-top-3.5 peer-focus:text-gray-600 peer-focus:text-sm",children:"Password"}),(0,r.jsx)("input",{id:"password",name:"password",onChange:e=>u(e),className:"w-full rounded-md border border-stroke bg-transparent px-5 py-3 text-base text-body-color outline-none focus:border-primary focus-visible:shadow-none ",type:"password",placeholder:"Password*"})]})," ",(0,r.jsxs)("div",{className:"flex flex-col w-full gap-1",children:[(0,r.jsx)("label",{htmlFor:"username",className:"left-0 -top-5 text-gray-900 text-sm peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-440 peer-placeholder-shown:top-2 transition-all peer-focus:-top-3.5 peer-focus:text-gray-600 peer-focus:text-sm",children:"Password"}),(0,r.jsx)("input",{id:"password",name:"password",onChange:e=>u(e),className:"w-full rounded-md border border-stroke bg-transparent px-5 py-3 text-base text-body-color outline-none focus:border-primary focus-visible:shadow-none ",type:"password",placeholder:"Password*"})]})," ",(0,r.jsxs)("div",{className:"flex flex-col w-full gap-1",children:[(0,r.jsx)("label",{htmlFor:"username",className:"left-0 -top-5 text-gray-900 text-sm peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-440 peer-placeholder-shown:top-2 transition-all peer-focus:-top-3.5 peer-focus:text-gray-600 peer-focus:text-sm",children:"Password"}),(0,r.jsx)("input",{id:"password",name:"password",onChange:e=>u(e),className:"w-full rounded-md border border-stroke bg-transparent px-5 py-3 text-base text-body-color outline-none focus:border-primary focus-visible:shadow-none ",type:"password",placeholder:"Password*"})]}),(0,r.jsxs)("button",{onClick:()=>{if(!e){v.ZP.error("please select profile image!",{duration:3e3});return}let t=f(null==s?void 0:s.password),r=w(null==s?void 0:s.email),o=y(null==s?void 0:s.username);if(t&&v.ZP.error(t,{duration:3e3}),r&&v.ZP.error(r,{duration:3e3}),o&&v.ZP.error(o,{duration:3e3}),!t&&!r&&!o){let e=d();v.ZP.promise(e,{loading:"loading...",success:"reponse success!",error:"something went wrong!"})}},className:"flex flex-row items-center gap-3 py-2.5 px-10 me-2 mb-2 text-sm font-medium text-gray-900 focus:outline-none bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700",children:[(0,r.jsx)(P.Z,{icon:"heroicons-outline:user-add",width:17}),"Register"]})]})]}),(0,r.jsx)("div",{className:"text-center py-4",children:(0,r.jsxs)("p",{className:"text-gray-500",children:["Already Register?",(0,r.jsx)(b.default,{className:"text-pink-600 ml-1.5",href:"".concat(c.Q.auth.login),children:"Sign In"})]})})]})})})})})]})}},7196:function(e,t,s){"use strict";var r=s(7437);s(2265);var o=s(9355);t.Z=e=>{let{icon:t,width:s,height:a,flip:n,rotate:l,click:i}=e;return(0,r.jsx)(o.JO,{icon:t,height:a||24,width:s||24,flip:n,rotate:l,onClick:()=>{i&&i(!0)}})}},1413:function(e,t,s){"use strict";s.d(t,{Q:function(){return r}});let r={auth:{login:"/auth/login",register:"/auth/register"},page:{survey:"/survey",content:"/content"}}},7257:function(e,t,s){"use strict";s.d(t,{Y:function(){return o},g:function(){return r}});let r={LOGGED_IN_USER:"start_user",MFA_ACCESS_TOKEN:"x-secure-token",MFA_REFRESH_TOKEN:"x-refresh-token",SELECTED_COUNTRY:"psychSelectedCountry",SELECTED_COUNTRY_NAME:"psychSelectedCountryName",SELECTED_VENDORCODE:"psychSelectedVendorCode",SELECTED_LANGUAGE:"psychSelectedLanguageFilter",BASE_URL:"https://x3qrf2-3000.csb.app/api/v1",SURVEY_DATA:"surveyData"},o={surveyDB:"survey",surveyData:"surveyData",useData:"user",tempVideo:"tempVideo",temporaryDB:"temporary"}},7413:function(e,t,s){"use strict";function r(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("localStorage"in window)try{let s=window.localStorage.getItem(e);if(!s)return null;if(!t)return s;if(s)return JSON.parse(s)}catch(e){}return null}function o(e,t,s){if("localStorage"in window)try{s?window.localStorage.setItem(e,JSON.stringify(t)):"string"==typeof t&&window.localStorage.setItem(e,t)}catch(e){console.log(e)}return null}s.d(t,{jy:function(){return r},uN:function(){return o}})}},function(e){e.O(0,[7,648,138,726,943,971,275,744],function(){return e(e.s=1320)}),_N_E=e.O()}]);